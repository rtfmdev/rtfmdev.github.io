<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; 
font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com https://public.slidesharecdn.com  https://cdn.jsdelivr.net jsdelivr.net jsdelivr.net disqus.com disquscdn.com *.disqus.com *.disquscdn.com; 
form-action 'self' https://syndication.twitter.com/ https://platform.twitter.com disqus.com disquscdn.com *.disqus.com *.disquscdn.com; 
frame-src 'self' https://cse.google.com https://player.vimeo.com www.youtube.com www.youtube-nocookie.com https://platform.twitter.com https://syndication.twitter.com jsfiddle.net www.instagram.com https://kuula.co https://www.slideshare.net https://www.google.com https://googleads.g.doubleclick.net disqus.com disquscdn.com *.disqus.com *.disquscdn.com; 
img-src 'self' https://jeremylikness.visualstudio.com https://www.google-analytics.com https://stats.g.doubleclick.net https://pagead2.googlesyndication.com *.google.com *.gstatic.com *.amazon-adsystem.com https://www.googleapis.com https://images-na.ssl-images-amazon.com https://platform.twitter.com *.twimg.com https://syndication.twitter.com data: https://files.kuula.io disqus.com disquscdn.com *.disqus.com *.disquscdn.com; 
object-src 'none'; 
style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://use.fontawesome.com https://fonts.googleapis.com https://www.google.com https://platform.twitter.com *.twimg.com disqus.com disquscdn.com *.disqus.com *.disquscdn.com; 
script-src 'self' 'unsafe-inline' https://gist.github.com https://platform.twitter.com https://cdn.syndication.twimg.com *.amazon-adsystem.com https://www.google-analytics.com https://cdn.jsdelivr.net cse.google.com https://www.google.com https://pagead2.googlesyndication.com https://adservice.google.com https://www.googletagservices.com jsfiddle.net www.instagram.com disqus.com disquscdn.com *.disqus.com *.disquscdn.com;">
<title>Git Tricks | RTFM DevOps</title>


<link rel="stylesheet" href="/book.min.89885fa0429ec73067282f26fc0c6d38cfc617a443ec4e835d47b821c52c6e92.css" integrity="sha256-iYhfoEKexzBnKC8m/AxtOM/GF6RD7E6DXUe4IcUsbpI=">


<script defer src="/search.min.b893879926e040fa4d00249afed158a433c15b3bc90a2e99f314d56ec6b9b9b4.js" integrity="sha256-uJOHmSbgQPpNACSa/tFYpDPBWzvJCi6Z8xTVbsa5ubQ="></script>



<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with rtfm template
https://github.com/denzalman/rtfm-template
-->
  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>

<h2 class="book-brand">
  <a href="https://rtfmdev.github.io/"><img src="/rtfm.png" alt="Logo" /><span>RTFM DevOps</span>
  </a>
</h2>

<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" readonly />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>




    

  
  





 
  
    

  <ul>
    
      
        

  <li >
    
      

  <a href="/docs/docker/" >
      Docker
  </a>


    

    

  <ul>
    
      
        <li>

  <a href="/docs/docker/commans/" >
      Cheatsheet
  </a>

</li>
      
    
  </ul>


  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/AWS/" >
      A W S
  </a>


    

    

  <ul>
    
      
        <li>

  <a href="/docs/AWS/useful-tips/" >
      Useful Tips
  </a>

</li>
      
    
  </ul>


  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/linux/" >
      Linux
  </a>


    

    

  <ul>
    
  </ul>


  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/dev-tools/" >
      Dev Tools
  </a>


    

    

  <ul>
    
      
        <li>

  <a href="/docs/dev-tools/git/"  class="active">
      Git Tricks
  </a>

</li>
      
    
      
        <li>

  <a href="/docs/dev-tools/python/" >
      Python
  </a>

</li>
      
    
      
    
      
        <li>

  <a href="/docs/dev-tools/one-liners/" >
      Bash oneliners
  </a>

</li>
      
    
  </ul>


  </li>


      
    
      
        

  <li >
    
      

  <a href="/docs/miscellaneous/" >
      Miscellaneous
  </a>


    

    

  <ul>
    
      
        <li>

  <a href="/docs/miscellaneous/to-read/" >
      to Read
  </a>

</li>
      
    
  </ul>


  </li>


      
    
  </ul>


  









<a href ="/posts/">Blog</a></br></br>
<a href ="/DenSalmanovCVen.pdf">My CV</a>

</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>
    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Git Tricks</strong>
</header>
      
<article class="markdown">

<h1 id="git-tips-and-tricks">Git tips and tricks</h1>

<p>Sometimes you have to make very rare manipulations with your git repo and can&rsquo;t remember how exactly it works&hellip; so I&rsquo;m collecting here such useful git use cases.</p>

<h2 id="merge-with-squash">Merge with squash</h2>

<p>Merge from branch with squash will erase all commits history in the branch</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Work in feature/1 branch</span>
git branch <span style="color:#e6db74">&#34;feature/1&#34;</span>
git checkout <span style="color:#e6db74">&#34;feature/1&#34;</span>

<span style="color:#75715e"># Move to the master branch.</span>
git checkout master

<span style="color:#75715e"># Merge the &#34;feature/1&#34; branch and squash the commits.</span>
git merge --squash feature/1

<span style="color:#75715e"># Resolve conflicts</span>

<span style="color:#75715e"># Commit your changes and add a single commit message for all your commits.</span>
<span style="color:#75715e"># You can omit the &#34;-m&#34; to have a template popping up based on your previous commit messages.</span>
git commit -m <span style="color:#e6db74">&#34;Feature 1 : 1, 2 et 3&#34;</span>

<span style="color:#75715e"># Delete the &#34;feature/1&#34; branch that is no longer needed.</span>
git branch -D feature/1</code></pre></div>
<h2 id="reset">Reset</h2>

<h3 id="soft">Soft</h3>

<p>You&rsquo;ve done a few tiny commits and want them all be put into one commit:</p>

<p><strong>A -&gt; B -&gt; C -&gt; D  || A with ALL (B,C,D) -&gt; E</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --soft A
git commit -m “my new merged commit”
git push origin branch</code></pre></div>
<p>New commit E contains all of the files that were committed in B, C, D.</p>

<h3 id="mixed">Mixed</h3>

<p>You’ve just pushed a few commits, but you want to go back and remove a couple of files in a previous commit.</p>

<p><strong>A -&gt; B-&gt; C -&gt; D || A with ANY (B,C,D) -&gt; E</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --mixed A</code></pre></div>
<p>Your branch head and index is pointing at A and all of your changes in B, C and D are there, but are untracked. Now you are free to add the files that you wish to add into a new commit.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add &lt;files&gt;
git commit -m <span style="color:#e6db74">&#34;updated commit&#34;</span>
git push origin branch</code></pre></div>
<p>The head is now at the new commit E, and any files that you’ve not staged will still be in your working tree, ready to add into another commit or to do what you want with.</p>

<h3 id="hard">Hard</h3>

<p>Do it only if you want to <strong>go back a few commits and get rid of every change</strong> you’ve made since.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset --hard A
git push origin branchname --force</code></pre></div>
<p>This will delete your commits from the remote branch history.</p>
</article>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rtfmdev" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      
      
    </div>

    
  

  <aside class="book-toc level-true fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#git-tips-and-tricks">Git tips and tricks</a>
<ul>
<li><a href="#merge-with-squash">Merge with squash</a></li>
<li><a href="#reset">Reset</a>
<ul>
<li><a href="#soft">Soft</a></li>
<li><a href="#mixed">Mixed</a></li>
<li><a href="#hard">Hard</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>


  </main>

  
  
</body>

</html>